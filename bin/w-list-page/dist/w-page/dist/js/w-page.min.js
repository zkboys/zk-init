!function(t,a,e,s){var i=function(a,e){this.$element=a,this.defaults={currentPage:1,totalPage:1,firstCount:1,lastCount:1,prevCount:2,nextCount:6,clickCallBack:function(t,a){console.log(t),console.log(a.parent().html())}},this.oriOptions=t.extend({},this.defaults,e),this.options=t.extend({},this.defaults,e),this.options.currentPage=parseInt(this.oriOptions.currentPage)||1,this.options.totalPage=parseInt(this.oriOptions.totalPage)||1,this.options.firstCount=this.oriOptions.firstCount==s?1:0==parseInt(this.oriOptions.firstCount)?0:parseInt(this.oriOptions.firstCount)||1,this.options.lastCount=this.oriOptions.lastCount==s?1:0==parseInt(this.oriOptions.lastCount)?0:parseInt(this.oriOptions.lastCount)||1,this.options.prevCount=this.oriOptions.prevCount==s?2:0==parseInt(this.oriOptions.prevCount)?0:parseInt(this.oriOptions.prevCount)||2,this.options.nextCount=this.oriOptions.nextCount==s?6:0==parseInt(this.oriOptions.nextCount)?0:parseInt(this.oriOptions.nextCount)||6,this.options.currentPage=this.options.currentPage>=this.options.totalPage?this.options.totalPage:this.options.currentPage,this.options.currentPage=this.options.currentPage<=0?1:this.options.currentPage,this.options.totalPage=this.options.totalPage<=0?1:this.options.totalPage,this.options.firstCount=this.options.firstCount<0?1:this.options.firstCount,this.options.lastCount=this.options.lastCount<0?1:this.options.lastCount,this.options.prevCount=this.options.prevCount<0?2:this.options.prevCount,this.options.nextCount=this.options.nextCount<0?6:this.options.nextCount};i.prototype={init:function(){var a=this,e=a.options,s=a.$element;if(e.totalPage=parseInt(e.totalPage),e.totalPage<2)return s;s.html('<ul class="pagination" style="margin:0px;"><li title="上一页" class="page-prev page-pn" ><a href="javascript:;" >&lt;</a></li><li title="下一页" class="page-next page-pn"><a href="javascript:;">&gt;</a></li></ul>'),a.setNumList();var i=null,n=!1;s.find(".page-prev").mousedown(function(){i=setInterval(function(){e.currentPage--,e.currentPage=e.currentPage<=1?1:e.currentPage,a.setNumList(),n=!0},150)}).mouseup(function(){clearInterval(i),n||(e.currentPage--,e.currentPage=e.currentPage<=1?1:e.currentPage,a.setNumList()),n=!1,e.clickCallBack&&e.clickCallBack(e.currentPage,t(this))}).mouseout(function(){clearInterval(i)});var r=null;return s.find(".page-next").mousedown(function(){r=setInterval(function(){e.currentPage++,e.currentPage=e.currentPage>=e.totalPage?e.totalPage:e.currentPage,a.setNumList(),n=!0},150)}).mouseup(function(){clearInterval(r),n||(e.currentPage++,e.currentPage=e.currentPage>=e.totalPage?e.totalPage:e.currentPage,a.setNumList()),n=!1,e.clickCallBack&&e.clickCallBack(e.currentPage,t(this))}).mouseout(function(){clearInterval(r)}),s},setNumList:function(){var a="",e=this,s=e.options,i=e.$element,n=s.firstCount,r=s.prevCount,o=s.nextCount,l=s.lastCount,u=s.currentPage,c=s.totalPage;n=parseInt(n),r=parseInt(r),o=parseInt(o),l=parseInt(l),u=parseInt(u),c=parseInt(c);var p=n+r+o+l+3,g=u-r-n>1,h=c>u+o+l;if(1==g&&0==h)if(c>p){for(var f=1;n>=f;f++)a+='<li><a href="javascript:;" class="page-num">'+f+"</a></li>";a+='<li class="disabled"><a href="javascript:;">…</a></li>';for(var f=c-l-o-r-1;c>=f;f++)a+=f==u?'<li class="active"><a href="javascript:;" class="page-num">'+f+"</a></li>":'<li><a href="javascript:;" class="page-num">'+f+"</a></li>"}else for(var f=1;c>=f;f++)a+=f==u?'<li class="active"><a href="javascript:;" class="page-num">'+f+"</a></li>":'<li><a href="javascript:;" class="page-num">'+f+"</a></li>";if(0==g&&1==h)if(c>p){for(var f=1;o+r+n+3>f;f++)a+=f==u?'<li class="active"><a href="javascript:;" class="page-num">'+f+"</a></li>":'<li><a href="javascript:;" class="page-num">'+f+"</a></li>";a+='<li class="disabled"><a href="javascript:;">…</a></li>';for(var f=c-l+1;c>=f;f++)a+='<li><a href="javascript:;" class="page-num">'+f+"</a></li>"}else for(var f=1;c>=f;f++)a+=f==u?'<li class="active"><a href="javascript:;" class="page-num">'+f+"</a></li>":'<li><a href="javascript:;" class="page-num">'+f+"</a></li>";if(0==g&&0==h)for(var f=1;c>=f;f++)a+=f==u?'<li class="active"><a href="javascript:;" class="page-num">'+f+"</a></li>":'<li><a href="javascript:;" class="page-num">'+f+"</a></li>";if(1==g&&1==h){for(var f=1;n>=f;f++)a+='<li><a href="javascript:;" class="page-num">'+f+"</a></li>";a+='<li class="disabled"><a href="javascript:;">…</a></li>';for(var f=u-r;u+o>=f;f++)a+=f==u?'<li class="active"><a href="javascript:;"  class="page-num">'+f+"</a></li>":'<li><a href="javascript:;" class="page-num">'+f+"</a></li>";a+='<li class="disabled"><a href="javascript:;">…</a></li>';for(var f=c-l+1;c>=f;f++)a+='<li><a href="javascript:;" class="page-num">'+f+"</a></li>"}return i.find("li:not(.page-pn)").remove(),i.find("li.page-prev").after(a),1>=u?i.find(".page-prev").addClass("disabled"):i.find(".page-prev").removeClass("disabled"),u>=c?i.find(".page-next").addClass("disabled"):i.find(".page-next").removeClass("disabled"),i.find(".page-num").click(function(){s.currentPage=parseInt(t(this).html()),s.clickCallBack&&s.clickCallBack(s.currentPage,t(this)),e.setNumList()}),i},getCurrentPage:function(){return this.options.currentPage},getTotalPage:function(){return this.options.totalPage},setCurrentPage:function(t){this.options.currentPage=t,this.setNumList()},setTotalPage:function(t){this.options.totalPage=t,this.setNumList()}},t.fn.wPage=function(a,e){if(this.length<=0)return this;this.data("_wPageObj_")||this.data("_wPageObj_",new i(this,a));var n=this.data("_wPageObj_");if(a==s||"object"==typeof a&&!t.isFunction(a))return n.init();if("string"==typeof a)switch(a){case"getCurrentPage":return n.getCurrentPage();case"getTotalPage":return n.getTotalPage();case"setCurrentPage":return n.setCurrentPage(e);case"setTotalPage":return n.setTotalPage(e);default:return"No such method!"}}}(jQuery,window,document);